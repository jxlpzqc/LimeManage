@model LimeManage.ViewModels.NewProjectViewModel

@{
    ViewBag.Title = "新建项目";
    var F = Html.F();
}



@section body{
    @(F.Form()
                .ID("mainForm")
                .LabelAlign(LabelAlign.Right)
                .MessageTarget(MessageTarget.Side)
                .BodyPadding(5)
                .Width(800)
                .Title("新建项目")
                .AutoScroll(true)
                .Items(
                    F.GroupPanel()
                        .ID("GroupPanel1")
                        .Layout(LayoutType.Anchor)
                        .Title("项目基本信息")
                        .Items(
                            F.Panel()
                                .ID("Panel2")
                                .Layout(LayoutType.HBox)
                                .ShowHeader(false)
                                .ShowBorder(false)
                                .Items(
                                    
                                    F.TextBox()
                                        .ID("projectID")
                                        .Label("项目编号")
                                        .CssClass("marginr")
                                        .Required(true)
                                        .ShowRedStar(true)
                                        .BoxFlex(2)
                                        .Text(Model.ProjectID)
                                        .OnBlur(Url.Action("BlurValidateID"), new Parameter("projectID", "F.ui.projectID.getValue()")),
                                    F.TextBox()
                                        .ID("ProjectName")
                                        .Label("项目名称")
                                        .Required(true)
                                        .ShowRedStar(true)
                                        .BoxFlex(3)
                                        
                                ),
                            F.Panel()
                                .ID("Panel1")
                                .Layout(LayoutType.HBox)
                                .BoxConfigAlign(BoxLayoutAlign.Stretch)
                                .ShowHeader(false)
                                .ShowBorder(false)
                                .Items(
                                   F.DropDownList()
                                   .ID("ddlProvince")
                                   .Label("省")
                                   .Required(true)
                                   .ShowRedStar(true)
                                    .CompareType(CompareType.String)
                                    .CompareValue("-1")
                                    .CompareOperator(Operator.NotEqual)
                                    .CompareMessage("请选择省份！")
                                   .BoxFlex(1)
                                   .DataValueField("ID")
                                   .DataTextField("Name")
                                   .DataSource(Model.Province)
                                   .OnSelectedIndexChanged(Url.Action("ProvinceChange"),"mainForm"),
                                   F.DropDownList()
                                   .ID("ddlCity")
                                   .Label("市")
                                   .Required(true)
                                   .LabelWidth(50)
                                   .ShowRedStar(true)
                                   .BoxFlex(1)
                                   .CompareType(CompareType.String)
                                    .CompareValue("-1")
                                    .CompareOperator(Operator.NotEqual)
                                    .CompareMessage("请选择地区市！")
                                    .OnSelectedIndexChanged(Url.Action("CityChange"), "mainForm")
                                    .Enabled(false)
                                    .Items(
                                        F.ListItem()
                                            .Text("选择地区市")
                                            .Value("-1")
                                    ),
                                   F.DropDownList()
                                   .ID("ddlCounty")
                                   .Label("县/区")
                                   .Required(true)
                                   .LabelWidth(70)
                                   .ShowRedStar(true)
                                   .BoxFlex(1)
                                   .CompareType(CompareType.String)
                                    .CompareValue("-1")
                                    .CompareOperator(Operator.NotEqual)
                                    .CompareMessage("请选择县！")
                                    .Enabled(false)
                                    .Items(
                                        F.ListItem()
                                            .Text("选择县")
                                            .Value("-1")
                                    )
                                )
                        ),
                    F.GroupPanel()
                        .ID("GroupPanel2")
                        .Layout(LayoutType.Anchor)
                        .Title("协议信息")
                        .Items(
                            F.Panel()
                            .Layout(LayoutType.HBox)
                            .BoxConfigAlign(BoxLayoutAlign.Stretch)
                            .ShowHeader(false)
                            .ShowBorder(false)
                            .Items(
                                F.TextBox()
                                    .ID("tbPartyA")
                                    .Label("甲方名称")
                                    .Required(true)
                                    .ShowRedStar(true)
                                    .BoxFlex(1),
                                F.DropDownList()
                                    .ID("ddlPartyB")
                                    .Label("乙方")
                                    .LabelWidth(70)
                                    .EnableEdit(true)
                                    .Required(true)
                                    .ShowRedStar(true)
                                    .BoxFlex(1)
                                    .DataTextField("Name")
                                    .DataValueField("ID")
                                    .DataSource(Model.PartyB)
                                    .EmptyText("输入或选择乙方")
                            ),
                            F.Panel()
                            .Layout(LayoutType.HBox)
                            .BoxConfigAlign(BoxLayoutAlign.Stretch)
                            .ShowHeader(false)
                            .ShowBorder(false)
                            .Items(
                                F.TextBox()
                                    .ID("tbResponsiblePerson")
                                    .Label("负责人")
                                    .BoxFlex(1),
                                F.TextBox()
                                    .ID("tbContact")
                                    .Label("联系电话")
                                    .LabelWidth(90)
                                    .BoxFlex(2)
                            ),
                            F.Panel()
                            .Layout(LayoutType.HBox)
                            .BoxConfigAlign(BoxLayoutAlign.Stretch)
                            .ShowHeader(false)
                            .ShowBorder(false)
                            .Items(
                                F.NumberBox()
                                    .ID("nbMoney")
                                    .Label("金额")
                                    .ShowRedStar(true)
                                    .NoDecimal(true)
                                    .NoNegative(true)
                                    .Required(true)
                                    .BoxFlex(1),
                                F.DropDownList()
                                    .ID("ddlMoneyUnit")
                                    
                                    .Width(60)
                                    .Items(
                                        F.ListItem()
                                        .Text("元")
                                        .Value("yuan"),
                                        F.ListItem()
                                        .Text("万元")
                                        .Value("wan")
                                        .Selected(true),
                                        F.ListItem()
                                        .Text("亿元")
                                        .Value("yi")
                                    ),
                                F.DatePicker()
                                    .ID("dpDate")
                                    .Label("日期")
                                    .ShowRedStar(true)
                                    .LabelWidth(90)
                                    .BoxFlex(1)
                                    .SelectedDate(System.DateTime.Now))


                        ),
                        F.Panel()
                        .ShowBorder(false)
                        .ShowHeader(false)
                        .Layout(LayoutType.HBox)
                        .Items(
                            F.Button()
                            .ValidateForms("mainForm")
                            .Text("提交")
                            .OnClick(Url.Action("doNewProject"), "mainForm")
                            .BoxFlex(1),
                            F.Button()
                            .Type(ButtonType.Reset)
                            .CssStyle("background-color:green;color:white;")
                            .Text("重置")
                            .BoxFlex(1)

                        )
                )

    )
}
